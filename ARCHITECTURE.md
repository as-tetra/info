# art space tetra - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**Movable Type â†’ Eleventy é™çš„ã‚µã‚¤ãƒˆç§»è¡Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**

æœ€çµ‚æ›´æ–°: 2026-01-30

---

## ğŸ“‹ ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ)
3. [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
4. [ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ](#ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ )
5. [ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ](#ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ )
6. [ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼](#ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼)
7. [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ](#ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ)
8. [ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ ](#ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ )
9. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–](#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)
10. [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ](#ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ)
11. [é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼](#é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)
12. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ç›®çš„

2004å¹´ã‹ã‚‰é‹å–¶ã•ã‚Œã¦ããŸMovable Typeï¼ˆMTï¼‰ãƒ™ãƒ¼ã‚¹ã®å‹•çš„ã‚µã‚¤ãƒˆã‚’ã€å®Œå…¨é™çš„HTMLã‚µã‚¤ãƒˆã«ç§»è¡Œã—ã€GitHub Pagesã§å…¬é–‹å¯èƒ½ã«ã™ã‚‹ã€‚

### èƒŒæ™¯

- **å…ƒã®ã‚·ã‚¹ãƒ†ãƒ **: Movable Type 3.x-6.x + PHPå‹•çš„ãƒšãƒ¼ã‚¸ + é™çš„ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã®æ··åˆ
- **å•é¡Œç‚¹**:
  - PHPã‚µãƒ¼ãƒãƒ¼å¿…é ˆï¼ˆGitHub Pagesã§ä¸å¯ï¼‰
  - ç”»åƒå®¹é‡ 700MBè¶…ï¼ˆæœ€é©åŒ–ãªã—ï¼‰
  - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å›°é›£ï¼ˆMTã®æ›´æ–°åœæ­¢ï¼‰
  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ï¼ˆå¤ã„PHPã‚³ãƒ¼ãƒ‰ï¼‰

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
|---------|------|-----------|
| SSG | Eleventy | 3.1.2 |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | Nunjucks | - |
| ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  | Node.js | â‰¥20.0.0 |
| ç”»åƒå‡¦ç† | Sharp | 0.33.x |
| HTMLè§£æ | Cheerio | 1.0.x |
| ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ | fs-extra | 11.x |
| ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ | glob | 10.x |
| ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | GitHub Pages | - |

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

| æŒ‡æ¨™ | ç§»è¡Œå‰ | ç§»è¡Œå¾Œ | å‰Šæ¸›ç‡ |
|-----|--------|--------|--------|
| ã‚µã‚¤ãƒˆåˆè¨ˆ | ~1GB | 323MB | 67.7% |
| ç”»åƒå®¹é‡ | 218MB | 150MB | 31.2% |
| _site/ ãƒ“ãƒ«ãƒ‰ | - | 203MB | - |
| ã‚³ãƒ¼ãƒ‰é‡è¤‡ | 380è¡Œ | 107è¡Œ | 71.8% |
| ãƒšãƒ¼ã‚¸ç”Ÿæˆ | æ‰‹å‹• | è‡ªå‹• | - |
| ãƒ“ãƒ«ãƒ‰æ™‚é–“ | - | 3.33ç§’ | - |

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ           ãƒ‡ãƒ¼ã‚¿              é™çš„ã‚¢ã‚»ãƒƒãƒˆ          â”‚
â”‚  *.njk               _data/             upload/            â”‚
â”‚  *-paginated/        *.js, *.json      css/, js/           â”‚
â”‚  _includes/          entries, pages    images/             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Eleventy Engine    â”‚
    â”‚  (Node.js runtime)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â”€â”€ Nunjucks ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‡¦ç†
               â”œâ”€â”€â”€ ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ (_data/)
               â”œâ”€â”€â”€ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆ
               â”œâ”€â”€â”€ PassthroughCopy (é™çš„ãƒ•ã‚¡ã‚¤ãƒ«)
               â””â”€â”€â”€ ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ»ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰é©ç”¨
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   _site/ (å‡ºåŠ›)       â”‚
    â”‚   2,295 HTMLãƒ•ã‚¡ã‚¤ãƒ«  â”‚
    â”‚   203MB               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼ (ãƒã‚¹ãƒˆãƒ“ãƒ«ãƒ‰)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ postbuild-add-prefix â”‚
    â”‚ PATH_PREFIX é©ç”¨      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   GitHub Pages       â”‚
    â”‚   https://...        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¨­è¨ˆåŸå‰‡

1. **ãƒ‡ãƒ¼ã‚¿ã¨ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆ†é›¢**
   - ãƒ‡ãƒ¼ã‚¿: `_data/` (JSON, JS)
   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: `_includes/`, `*-paginated/`
   - é™çš„ã‚¢ã‚»ãƒƒãƒˆ: `upload/`, `css/`, `js/`

2. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé§†å‹•é–‹ç™º**
   - å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (`_includes/components/`)
   - DRYåŸå‰‡ï¼ˆDon't Repeat Yourselfï¼‰
   - å˜ä¸€è²¬ä»»ã®åŸå‰‡

3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**
   - ç”»åƒæœ€é©åŒ–ï¼ˆSharpï¼‰
   - é…å»¶èª­ã¿è¾¼ã¿ï¼ˆlazy loadingï¼‰
   - æœ€å°é™ã®JavaScript

4. **ç’°å¢ƒé©å¿œæ€§**
   - PATH_PREFIX ã«ã‚ˆã‚‹æŸ”è»Ÿãªãƒ‡ãƒ—ãƒ­ã‚¤
   - ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã¨ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã®ç’°å¢ƒåˆ†é›¢

---

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ

```
as-tetra.info/
â”œâ”€â”€ _data/                    # ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆEleventyè‡ªå‹•èª­ã¿è¾¼ã¿ï¼‰
â”‚   â”œâ”€â”€ archiveEntries.json   # ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚¨ãƒ³ãƒˆãƒªãƒ¼ï¼ˆå…¨å¹´ï¼‰
â”‚   â”œâ”€â”€ archivePages.js       # å¹´åˆ¥ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
â”‚   â”œâ”€â”€ categoriesData.js     # ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ categoryPages.js      # ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ entries.json          # å…¨ã‚¨ãƒ³ãƒˆãƒªãƒ¼
â”‚   â”œâ”€â”€ genreEntries.json     # ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ã‚¨ãƒ³ãƒˆãƒªãƒ¼
â”‚   â”œâ”€â”€ genrePages.js         # ã‚¸ãƒ£ãƒ³ãƒ«ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ site.json             # ã‚µã‚¤ãƒˆå…¨ä½“è¨­å®š
â”‚   â””â”€â”€ tetraPages.js         # tetraãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚
â”œâ”€â”€ _includes/                # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ¼ãƒ„
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ base.njk          # ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â””â”€â”€ components/           # å†åˆ©ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”œâ”€â”€ entry-card-simple.njk          # ã‚·ãƒ³ãƒ—ãƒ«ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚«ãƒ¼ãƒ‰
â”‚       â”œâ”€â”€ entry-card-bilingual.njk       # ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«ã‚«ãƒ¼ãƒ‰
â”‚       â”œâ”€â”€ entry-card-bilingual-full.njk  # ãƒ•ãƒ«ã‚«ãƒ¼ãƒ‰
â”‚       â”œâ”€â”€ footer.njk                     # ãƒ•ãƒƒã‚¿ãƒ¼
â”‚       â”œâ”€â”€ header.njk                     # ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚       â”œâ”€â”€ main-navigation.njk            # ãƒ¡ã‚¤ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚       â”œâ”€â”€ nav-sns.njk                    # SNSãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚       â””â”€â”€ pagination.njk                 # ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚
â”œâ”€â”€ archives-paginated/       # å…¨ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ index.njk
â”œâ”€â”€ category-paginated/       # ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ index.njk
â”œâ”€â”€ genre-paginated/          # ã‚¸ãƒ£ãƒ³ãƒ«ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ index.njk
â”œâ”€â”€ tetra-paginated/          # tetraãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ index.njk
â”œâ”€â”€ year-archives/            # å¹´åˆ¥ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ index.njk
â”‚
â”œâ”€â”€ scripts/                  # ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ extract-*.js          # ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ optimize-*.js         # ç”»åƒæœ€é©åŒ–
â”‚   â”œâ”€â”€ fix-*.js              # ãƒªãƒ³ã‚¯ä¿®æ­£
â”‚   â””â”€â”€ postbuild-add-prefix.js # PATH_PREFIXé©ç”¨
â”‚
â”œâ”€â”€ upload/                   # ç”»åƒã‚¢ã‚»ãƒƒãƒˆï¼ˆ218MB â†’ 150MBï¼‰
â”œâ”€â”€ css/                      # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”œâ”€â”€ js/                       # JavaScript
â”œâ”€â”€ images/                   # ã‚µã‚¤ãƒˆã‚¢ã‚¤ã‚³ãƒ³ãƒ»ãƒ­ã‚´
â”œâ”€â”€ archives/                 # æ—¢å­˜ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆMTãŒç”Ÿæˆã€ã‚³ãƒ”ãƒ¼ï¼‰
â”œâ”€â”€ 2004/ ~ 2009/             # å¹´åˆ¥é™çš„ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆã‚³ãƒ”ãƒ¼ï¼‰
â”‚
â”œâ”€â”€ .eleventy.js              # Eleventyè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ .eleventyignore           # ãƒ“ãƒ«ãƒ‰é™¤å¤–è¨­å®š
â”œâ”€â”€ package.json              # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”œâ”€â”€ CLAUDE.md                 # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæŒ‡ç¤ºæ›¸
â””â”€â”€ ARCHITECTURE.md           # æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

### _site/ å‡ºåŠ›æ§‹é€ 

```
_site/
â”œâ”€â”€ index.html                          # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
â”œâ”€â”€ genre/                              # ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ music_event/
â”‚   â”‚   â”œâ”€â”€ index.html                 # 1ãƒšãƒ¼ã‚¸ç›®
â”‚   â”‚   â””â”€â”€ page/
â”‚   â”‚       â”œâ”€â”€ 2/index.html
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”œâ”€â”€ exhibition/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ archives/                           # å¹´åˆ¥ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
â”‚   â”œâ”€â”€ 2026/
â”‚   â”‚   â”œâ”€â”€ index.html                 # å¹´åˆ¥ä¸€è¦§ï¼ˆç”Ÿæˆï¼‰
â”‚   â”‚   â”œâ”€â”€ page/
â”‚   â”‚   â”‚   â””â”€â”€ 2/index.html
â”‚   â”‚   â””â”€â”€ 260106200000.html          # å€‹åˆ¥ã‚¨ãƒ³ãƒˆãƒªãƒ¼ï¼ˆã‚³ãƒ”ãƒ¼ï¼‰
â”‚   â””â”€â”€ ...
â”œâ”€â”€ tetra/                              # tetraãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ page/
â”‚       â”œâ”€â”€ 2/index.html
â”‚       â””â”€â”€ ...
â”œâ”€â”€ upload/                             # ç”»åƒï¼ˆPassthroughCopyï¼‰
â”œâ”€â”€ css/, js/, images/                  # ã‚¢ã‚»ãƒƒãƒˆï¼ˆPassthroughCopyï¼‰
â””â”€â”€ .nojekyll                           # GitHub Pagesè¨­å®š
```

---

## âš™ï¸ ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 

### ãƒ“ãƒ«ãƒ‰ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ npm run ... â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ clean â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º rm -rf _site/
       â”‚
       â”œâ”€ prebuild â”€â”€â”€â”€â”€â”€â”€â–º clean
       â”‚
       â”œâ”€ build â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Eleventyå‡¦ç†
       â”‚                    â”œâ”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè§£æ
       â”‚                    â”œâ”€ ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
       â”‚                    â”œâ”€ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆ
       â”‚                    â””â”€ é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼
       â”‚
       â””â”€ postbuild â”€â”€â”€â”€â”€â”€â–º PATH_PREFIXé©ç”¨
                            â””â”€ _site/ å†…HTMLã‚’æ›¸ãæ›ãˆ
```

### ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | ç”¨é€” | PATH_PREFIX | å‡ºåŠ›å…ˆ |
|---------|------|-------------|--------|
| `npm run serve` | ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º | `""` | localhost:8080 |
| `npm run build:local` | ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰ | `""` | _site/ |
| `npm run build:ghpages` | GitHub Pages | `/info` | _site/ |
| `npm run build:custom` | ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ | `""` | _site/ |

### PATH_PREFIX ã®ä»•çµ„ã¿

#### 1. ãƒ“ãƒ«ãƒ‰æ™‚ï¼ˆ.eleventy.jsï¼‰

```javascript
const pathPrefix = process.env.PATH_PREFIX || '';

return {
  ...(pathPrefix && { pathPrefix }),
  // ...
};
```

#### 2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ï¼ˆNunjucksï¼‰

```nunjucks
<a href="{{ '/' | url }}">Home</a>
<!-- PATH_PREFIX="" â†’ / -->
<!-- PATH_PREFIX="/info" â†’ /info/ -->

<img src="{{ '/upload/2025/image.jpg' | url }}">
<!-- PATH_PREFIX="" â†’ /upload/2025/image.jpg -->
<!-- PATH_PREFIX="/info" â†’ /info/upload/2025/image.jpg -->
```

#### 3. ãƒã‚¹ãƒˆãƒ“ãƒ«ãƒ‰ï¼ˆscripts/postbuild-add-prefix.jsï¼‰

```javascript
// é™çš„ã«ã‚³ãƒ”ãƒ¼ã•ã‚ŒãŸHTMLã«ã‚‚PATH_PREFIXã‚’é©ç”¨
content = content.replace(
  /href="\/([^"]*)"/g,
  `href="${pathPrefix}/$1"`
);
```

### Eleventyè¨­å®šï¼ˆ.eleventy.jsï¼‰

#### PassthroughCopy

é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’`_site/`ã«ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼:

```javascript
// ç”»åƒãƒ»ã‚¢ã‚»ãƒƒãƒˆ
eleventyConfig.addPassthroughCopy('upload');
eleventyConfig.addPassthroughCopy('css');
eleventyConfig.addPassthroughCopy('js');
eleventyConfig.addPassthroughCopy('images');

// å¹´åˆ¥ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
eleventyConfig.addPassthroughCopy('2004');
// ... 2009ã¾ã§

// æ—¢å­˜ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆå€‹åˆ¥ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã®ã¿ï¼‰
eleventyConfig.addPassthroughCopy('archives/**/*.html');
eleventyConfig.ignores.add('archives/**/index.html');
```

#### ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼

```javascript
// æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
eleventyConfig.addFilter('dateFormat', (date) => { /* ... */ });

// é…åˆ—æ“ä½œ
eleventyConfig.addFilter('max', (arr) => Math.max(...arr));
eleventyConfig.addFilter('min', (arr) => Math.min(...arr));
eleventyConfig.addFilter('length', (arr) => arr.length);

// å¹´ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
eleventyConfig.addFilter('filterByYear', (entries, year) => { /* ... */ });
```

#### ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰

```javascript
// æœ€é©åŒ–ç”»åƒï¼ˆPATH_PREFIXå¯¾å¿œï¼‰
eleventyConfig.addShortcode('image', (src, alt, className) => {
  const optimizedSrc = pathPrefix ? `${pathPrefix}${src}` : src;
  return `<img src="${optimizedSrc}" alt="${alt}" loading="lazy">`;
});
```

---

## ğŸ¨ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ 

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéšå±¤

```
base.njk (ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ)
â”œâ”€â”€ header.njk
â”œâ”€â”€ nav-sns.njk
â””â”€â”€ footer.njk
    â”‚
    â”œâ”€ genre-paginated/index.njk
    â”œâ”€ tetra-paginated/index.njk
    â”œâ”€ year-archives/index.njk
    â”œâ”€ archives-paginated/index.njk
    â””â”€ category-paginated/index.njk
```

### base.njkï¼ˆãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰

```nunjucks
<!DOCTYPE html>
<html lang="{{ lang | default('ja') }}">
<head>
  <meta charset="utf-8">
  <title>{% if title %}{{ title }} | {% endif %}art space tetra</title>
  <link rel="stylesheet" href="{{ '/css/tetra_base.css' | url }}">
  <!-- ... -->
</head>
<body class="responsive">

{# Header #}
{% include "components/header.njk" %}
{% include "components/nav-sns.njk" %}
</div>

{# Container #}
<div id="container">
  {% block content %}
    {{ content | safe }}
  {% endblock %}
</div>

{# Footer #}
{% include "components/footer.njk" %}

</body>
</html>
```

### ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ 

å…¨ã¦ã®ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯çµ±ä¸€ã•ã‚ŒãŸæ§‹é€ :

```nunjucks
---
pagination:
  data: <ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹>
  size: 1
  alias: page
permalink: "{{ page.permalink }}"
layout: base.njk
eleventyComputed:
  title: "{{ page.title }}"
---

<div class="main">
  {# ã‚¿ã‚¤ãƒˆãƒ« #}
  <div class="block_box">
    <h1 class="menu_title">{{ page.title }}</h1>
  </div>

  {# ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒªã‚¹ãƒˆ #}
  {% for entry in page.entries %}
  {% include "components/entry-card-*.njk" %}
  {% endfor %}

  {# ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ #}
  {% set customPagination = page %}
  {% set baseUrl = '/path' %}
  {% include "components/pagination.njk" %}

  {# ãƒ¡ã‚¤ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ #}
  {% include "components/main-navigation.njk" %}
</div>
```

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ—¢å­˜HTMLãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆMTãŒç”Ÿæˆï¼‰          â”‚
â”‚ archives/YYYY/*.html               â”‚
â”‚ genre/**/*.html                    â”‚
â”‚ tetra/index.html                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼ (Cheerio ã§è§£æ)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŠ½å‡ºã‚¹ã‚¯ãƒªãƒ—ãƒˆ                       â”‚
â”‚ scripts/extract-*.js               â”‚
â”‚ - extract-archive-entries.js       â”‚
â”‚ - extract-genre-entries.js         â”‚
â”‚ - extract-tetra-entries.js         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼ (JSONå‡ºåŠ›)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«                       â”‚
â”‚ _data/                             â”‚
â”‚ - archiveEntries.json              â”‚
â”‚ - genreEntries.json                â”‚
â”‚ - entries.json                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼ (Eleventyèª­ã¿è¾¼ã¿)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ            â”‚
â”‚ _data/*Pages.js                    â”‚
â”‚ - archivePages.js                  â”‚
â”‚ - genrePages.js                    â”‚
â”‚ - tetraPages.js                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼ (ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HTMLãƒšãƒ¼ã‚¸ç”Ÿæˆ                      â”‚
â”‚ _site/genre/music_event/index.html â”‚
â”‚ _site/archives/2025/index.html     â”‚
â”‚ _site/tetra/page/2/index.html      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«è©³ç´°

#### archiveEntries.json

å…¨å¹´ã®å…¨ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚’æ ¼ç´:

```json
[
  {
    "date": "2026.01.14",
    "isPast": false,
    "titleJp": "ã€ŠCursed Cards ç´ æ•µãªå‘ªã„ã€‹",
    "titleEn": "",
    "url": "/archives/2026/260114000000.html",
    "imgSrc": "/upload/2026/image.jpeg",
    "imgAlt": "...",
    "imgWidth": "168",
    "bodyJp": "<p>...</p>",
    "bodyEn": "<p>...</p>",
    "year": "2026"
  }
  // ... 800+ entries
]
```

#### archivePages.js

å¹´åˆ¥ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å‹•çš„ç”Ÿæˆ:

```javascript
module.exports = function() {
  const entries = require('./archiveEntries.json');
  const years = [...new Set(entries.map(e => e.year))].sort().reverse();

  const pages = [];

  years.forEach(year => {
    const yearEntries = entries.filter(e => e.year === year);
    const pageSize = 30;

    for (let i = 0; i < yearEntries.length; i += pageSize) {
      const pageEntries = yearEntries.slice(i, i + pageSize);
      const pageNumber = Math.floor(i / pageSize);
      const totalPages = Math.ceil(yearEntries.length / pageSize);

      pages.push({
        year,
        pageNumber,
        totalPages,
        entryCount: yearEntries.length,
        entries: pageEntries,
        permalink: pageNumber === 0
          ? `archives/${year}/index.html`
          : `archives/${year}/page/${pageNumber + 1}/index.html`,
        isFirstPage: pageNumber === 0,
        isLastPage: pageNumber === totalPages - 1
      });
    }
  });

  return pages;
};
```

#### genrePages.js

ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³:

```javascript
module.exports = function() {
  const genreEntries = require('./genreEntries.json');
  const pages = [];

  Object.keys(genreEntries).forEach(genreSlug => {
    const entries = genreEntries[genreSlug].entries;
    const pageSize = 30;

    // ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
    // ... (archivePagesã¨åŒæ§˜)
  });

  return pages;
};
```

---

## ğŸ§© ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ç”¨é€” | ä½¿ç”¨ç®‡æ‰€ |
|--------------|------|---------|
| `header.njk` | ã‚µã‚¤ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ | base.njk |
| `nav-sns.njk` | SNSãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | base.njk |
| `footer.njk` | ã‚µã‚¤ãƒˆãƒ•ãƒƒã‚¿ãƒ¼ | base.njk |
| `main-navigation.njk` | ãƒ¡ã‚¤ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | å…¨ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ |
| `pagination.njk` | ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ | å…¨ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ |
| `entry-card-simple.njk` | ã‚·ãƒ³ãƒ—ãƒ«ã‚«ãƒ¼ãƒ‰ | category-paginated |
| `entry-card-bilingual.njk` | ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«ã‚«ãƒ¼ãƒ‰ | genre-paginated |
| `entry-card-bilingual-full.njk` | ãƒ•ãƒ«ã‚«ãƒ¼ãƒ‰ | year-archives, tetra |

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆåŸå‰‡

1. **å˜ä¸€è²¬ä»»**: 1ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ = 1æ©Ÿèƒ½
2. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼åŒ–**: `entry` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§çµ±ä¸€
3. **å†åˆ©ç”¨æ€§**: æœ€å¤§é™ã®å†åˆ©ç”¨ã‚’å‰æ
4. **ä¸€è²«æ€§**: çµ±ä¸€ã•ã‚ŒãŸHTMLæ§‹é€ 

### main-navigation.njkï¼ˆè©³ç´°ï¼‰

å…¨ãƒšãƒ¼ã‚¸ã«å…±é€šã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼:

```nunjucks
<!-- sub menu -->
<div class="block_box">
  <h1 class="menu_title"><a href="{{ '/' | url }}">Â»&nbsp;HOME</a></h1>
</div>
<div class="block_box">
  <h1 class="menu_title">ABOUT</h1>
  <div class="dots_line"></div>
  <ul>
    <li><a href="{{ '/tetra/' | url }}">own project</a></li>
    <li><a href="{{ '/archives/2004/040101100000.html' | url }}">outline</a></li>
    <li><a href="{{ '/archives/2013/130608114205.html' | url }}">free paper</a></li>
    <li><a href="{{ '/archives/2004/040101050000.html' | url }}">access map</a></li>
    <!-- ... -->
  </ul>
</div>
<div class="block_box">
  <h1 class="menu_title">SPECIAL</h1>
  <!-- ... -->
</div>
<div class="block_box">
  <h1 class="menu_title">CATEGORY</h1>
  <ul>
    <li><a href="{{ '/genre/exhibition/' | url }}">exhibition</a></li>
    <li><a href="{{ '/genre/music_event/' | url }}">music event</a></li>
    <!-- ... -->
  </ul>
</div>
<div class="block_box">
  <h1 class="menu_title">ARCHIVES</h1>
  <ul class="year">
    <li><a href="{{ '/archives/2026/' | url }}">2026</a></li>
    <!-- ... 2004ã¾ã§ -->
  </ul>
</div>
<!-- end of sub menu -->
```

### pagination.njkï¼ˆçµ±ä¸€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

ã‚«ã‚¹ã‚¿ãƒ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã¨Eleventyãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸¡æ–¹ã«å¯¾å¿œ:

```nunjucks
{% if customPagination %}
  {# ã‚«ã‚¹ã‚¿ãƒ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆarchivePages, genrePagesãªã©ï¼‰ #}
  {% set currentPage = customPagination.pageNumber %}
  {% set totalPages = customPagination.totalPages %}

  {% if totalPages > 1 %}
  <div class="pagination">
    {% if currentPage > 0 %}
    <a href="{{ baseUrl }}/{% if currentPage > 1 %}page/{{ currentPage }}/{% endif %}index.html">Â« Prev</a>
    {% endif %}

    {% for i in range(0, totalPages) %}
      {% if i === currentPage %}
      <span class="current">{{ i + 1 }}</span>
      {% else %}
      <a href="{{ baseUrl }}/{% if i > 0 %}page/{{ i + 1 }}/{% endif %}index.html">{{ i + 1 }}</a>
      {% endif %}
    {% endfor %}

    {% if currentPage < totalPages - 1 %}
    <a href="{{ baseUrl }}/page/{{ currentPage + 2 }}/index.html">Next Â»</a>
    {% endif %}
  </div>
  {% endif %}
{% endif %}

{% if eleventyPagination %}
  {# Eleventyãƒã‚¤ãƒ†ã‚£ãƒ–ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ #}
  {# ... #}
{% endif %}
```

### entry-card-bilingual-full.njkï¼ˆè©³ç´°ï¼‰

æœ€ã‚‚è©³ç´°ãªã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚«ãƒ¼ãƒ‰ï¼ˆyear-archives, tetraç”¨ï¼‰:

```nunjucks
<div class="{% if entry.isPast %}block_box2{% else %}block_box{% endif %}" ontouchstart="">
  <div class="{% if entry.isPast %}date_past{% else %}date{% endif %}">{{ entry.date }}</div>

  <h1>
    <a href="{{ entry.url | url }}">
      <span class="en">{{ entry.titleEn }}</span>
      <span class="jp">{{ entry.titleJp }}</span>
    </a>
  </h1>

  {% if entry.imgSrc %}
  <a href="{{ entry.url | url }}">
    <img src="{{ entry.imgSrc | url }}"
         alt="{{ entry.imgAlt }}"
         {% if entry.imgWidth %}width="{{ entry.imgWidth }}"{% endif %}>
  </a>
  {% endif %}

  <span class="jp">{{ entry.bodyJp | safe }}</span>
  <span class="en">{{ entry.bodyEn | safe }}</span>
</div>
```

---

## ğŸ“„ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

### ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç¨®åˆ¥

| ç¨®åˆ¥ | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ | ãƒšãƒ¼ã‚¸ã‚µã‚¤ã‚º |
|-----|------------|------------|------------|
| ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ | genre-paginated | genrePages.js | 30 |
| å¹´åˆ¥ | year-archives | archivePages.js | 30 |
| tetraãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | tetra-paginated | tetraPages.js | 30 |
| ã‚«ãƒ†ã‚´ãƒªãƒ¼ | category-paginated | categoryPages.js | 15 |
| å…¨ã‚¨ãƒ³ãƒˆãƒªãƒ¼ | archives-paginated | entries.json | 15 |

### ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒ‘ã‚¿ãƒ¼ãƒ³1: ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ãƒ¼ã‚¿é§†å‹•ï¼ˆæ¨å¥¨ï¼‰

**åˆ©ç‚¹**: å®Œå…¨åˆ¶å¾¡ã€æŸ”è»Ÿæ€§ã€è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯å¯èƒ½

```nunjucks
---
pagination:
  data: genrePages        # _data/genrePages.js
  size: 1                 # 1ã¤ã®ãƒšãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿ = 1ãƒšãƒ¼ã‚¸
  alias: page
permalink: "{{ page.permalink }}"
---

{% for entry in page.entries %}
  {% include "components/entry-card-bilingual.njk" %}
{% endfor %}

{% set customPagination = page %}
{% set baseUrl = '/genre/' + page.categorySlug %}
{% include "components/pagination.njk" %}
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³2: Eleventyãƒã‚¤ãƒ†ã‚£ãƒ–

**åˆ©ç‚¹**: ã‚·ãƒ³ãƒ—ãƒ«ã€æ¨™æº–æ©Ÿèƒ½

```nunjucks
---
pagination:
  data: entries           # _data/entries.json
  size: 15                # 15ã‚¨ãƒ³ãƒˆãƒªãƒ¼ = 1ãƒšãƒ¼ã‚¸
  alias: items
  reverse: false
permalink: "archives/page-{{ pagination.pageNumber + 1 }}/index.html"
---

{% for entry in items %}
  {% include "components/entry-card-simple.njk" %}
{% endfor %}

{% set eleventyPagination = pagination %}
{% include "components/pagination.njk" %}
```

### ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆä¾‹

#### å…¥åŠ›ï¼ˆgenreEntries.jsonï¼‰

```json
{
  "music_event": {
    "name": "music event",
    "entries": [
      { "date": "2026.01.15", "titleJp": "...", /* ... */ },
      // ... 337 entries
    ]
  }
}
```

#### å‡¦ç†ï¼ˆgenrePages.jsï¼‰

```javascript
const genreEntries = require('./genreEntries.json');
const pages = [];

Object.keys(genreEntries).forEach(genreSlug => {
  const { name, entries } = genreEntries[genreSlug];
  const pageSize = 30;
  const totalPages = Math.ceil(entries.length / pageSize);

  for (let i = 0; i < entries.length; i += pageSize) {
    pages.push({
      categorySlug: genreSlug,
      categoryName: name,
      categoryCount: entries.length,
      pageNumber: Math.floor(i / pageSize),
      totalPages,
      entries: entries.slice(i, i + pageSize),
      permalink: i === 0
        ? `genre/${genreSlug}/index.html`
        : `genre/${genreSlug}/page/${Math.floor(i / pageSize) + 1}/index.html`
    });
  }
});

module.exports = pages;
```

#### å‡ºåŠ›ï¼ˆ_site/ï¼‰

```
_site/genre/music_event/
â”œâ”€â”€ index.html              # 1-30ä»¶
â””â”€â”€ page/
    â”œâ”€â”€ 2/index.html        # 31-60ä»¶
    â”œâ”€â”€ 3/index.html        # 61-90ä»¶
    â””â”€â”€ ...
    â””â”€â”€ 12/index.html       # 331-337ä»¶
```

---

## ğŸš€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### Phase 1-2: å®Ÿæ–½æ¸ˆã¿æœ€é©åŒ–ï¼ˆ2026-01-30ï¼‰

#### 1. ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ï¼ˆ48MBå‰Šæ¸›ï¼‰

```bash
# å‰Šé™¤å¯¾è±¡
rm -rf cgi-bin/acmailer3/      # 3.1 MB
rm -rf cgi-bin/mailform/       # 12 MB
rm -rf cgi-bin/tetra_mt/       # 12 MB
rm -rf imagecache/             # 21 MB
```

#### 2. ã‚µãƒ ãƒã‚¤ãƒ«é‡è¤‡å‰Šé™¤ï¼ˆ67MBå‰Šæ¸›ï¼‰

```bash
# scripts/delete-thumbnails.js
# 638å€‹ã® -thumb.* ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
# å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã‚µã‚¤ã‚ºã®ç„¡é§„ãªã‚µãƒ ãƒã‚¤ãƒ«
```

#### 3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–ï¼ˆ380è¡Œ â†’ 107è¡Œï¼‰

- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³çµ±åˆ: 4ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ â†’ 1ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚«ãƒ¼ãƒ‰: 3ç¨®é¡ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
- ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒ•ãƒƒã‚¿ãƒ¼: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæŠ½å‡º
- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³: main-navigation.njk ä½œæˆ

#### 4. GIFâ†’WebPå¤‰æ›ï¼ˆ12MBå‰Šæ¸›ï¼‰

```javascript
// scripts/optimize-large-images.js
const sharp = require('sharp');

await sharp(inputPath, { animated: true })
  .webp({ quality: 80, effort: 6 })
  .toFile(outputPath);

// ä¾‹: Untitled24.gif (6.8MB) â†’ Untitled24.webp (0.27MB) = 95.4%å‰Šæ¸›
```

#### 5. PNGå†åœ§ç¸®ï¼ˆ32ãƒ•ã‚¡ã‚¤ãƒ«ã€å¹³å‡75%å‰Šæ¸›ï¼‰

```javascript
await sharp(inputPath)
  .png({ quality: 85, compressionLevel: 9 })
  .resize({ width: 1200, withoutEnlargement: true })
  .toFile(outputPath);
```

#### 6. ç”»åƒãƒªãƒ³ã‚¯ä¿®æ­£ï¼ˆ3,906 â†’ 257ç ´æãƒªãƒ³ã‚¯ã€93.4%ä¿®æ­£ï¼‰

```javascript
// scripts/comprehensive-image-fix.js
// - å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆ1,562ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
// - ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆåŒå¹´ãƒ•ã‚©ãƒ«ãƒ€å„ªå…ˆï¼‰
// - -thumbå‰Šé™¤ã€æ‹¡å¼µå­å¤‰æ›
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ï¼ˆ2026-01-30æ™‚ç‚¹ï¼‰

| æŒ‡æ¨™ | å€¤ |
|-----|---|
| ç·HTMLãƒ•ã‚¡ã‚¤ãƒ« | 2,295ãƒ•ã‚¡ã‚¤ãƒ« |
| ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å«ã‚€ãƒšãƒ¼ã‚¸ | 1,288ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ56%ï¼‰ |
| _site/ã‚µã‚¤ã‚º | 203MB |
| ãƒ“ãƒ«ãƒ‰æ™‚é–“ | 3.33ç§’ |
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚ãŸã‚Šãƒ“ãƒ«ãƒ‰æ™‚é–“ | 4.1ms |
| PassthroughCopy | 3,802ãƒ•ã‚¡ã‚¤ãƒ« |
| ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ« | 809ãƒ•ã‚¡ã‚¤ãƒ« |

### æœ€é©åŒ–ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **ç”»åƒæœ€é©åŒ–**
   - å“è³ª: 75-85%
   - æœ€å¤§å¹…: 1200px
   - withoutEnlargement: trueï¼ˆæ‹¡å¤§ã—ãªã„ï¼‰
   - GIF â†’ WebPï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œï¼‰

2. **é…å»¶èª­ã¿è¾¼ã¿**
   ```html
   <img src="..." loading="lazy">
   ```

3. **ãƒªãƒ³ã‚¯æ•´åˆæ€§**
   - å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒªãƒ³ã‚¯ã®è‡ªå‹•ç…§åˆ
   - ãƒ“ãƒ«ãƒ‰æ™‚æ¤œè¨¼

---

## ğŸŒ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### GitHub Pagesè¨­å®š

#### ãƒªãƒã‚¸ãƒˆãƒªæ§‹é€ 

```
https://github.com/as-tetra/info
â”œâ”€â”€ main branch
â”‚   â”œâ”€â”€ .github/workflows/deploy.yml
â”‚   â”œâ”€â”€ _site/ (gitignore)
â”‚   â””â”€â”€ ... (ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«)
â””â”€â”€ gh-pages branch (è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤)
    â””â”€â”€ _site/ ã®å†…å®¹
```

#### GitHub Actionsï¼ˆ.github/workflows/deploy.ymlï¼‰

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: [main, develop]
  workflow_dispatch:

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'

      - name: Install dependencies
        run: npm ci

      - name: Build with Eleventy for GitHub Pages
        run: npm run build:ghpages

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./_site
          publish_branch: gh-pages
```

#### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ git push mainâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Actionsèµ·å‹•   â”‚
â”‚ - checkout           â”‚
â”‚ - npm ci             â”‚
â”‚ - npm run build:ghpages
â”‚   â””â”€ PATH_PREFIX=/info
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ _site/ ãƒ“ãƒ«ãƒ‰å®Œäº†    â”‚
â”‚ å…¨ãƒ‘ã‚¹ã« /info/ ä»˜ä¸ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ gh-pages ãƒ–ãƒ©ãƒ³ãƒæ›´æ–°â”‚
â”‚ _site/ ã‚’ push       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Pageså…¬é–‹     â”‚
â”‚ https://as-tetra.github.io/info/
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç’°å¢ƒåˆ¥ãƒ‡ãƒ—ãƒ­ã‚¤

#### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

```bash
npm run serve
# â†’ http://localhost:8080
# PATH_PREFIX=""
```

#### GitHub Pagesï¼ˆã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰

```bash
npm run build:ghpages
# â†’ https://as-tetra.github.io/info/
# PATH_PREFIX="/info"
```

#### ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³

```bash
npm run build:custom
# â†’ https://as-tetra.info/
# PATH_PREFIX=""
```

---

## ğŸ› ï¸ é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/as-tetra/info.git
cd info

# 2. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# 3. ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run serve
# â†’ http://localhost:8080

# 4. ãƒ“ãƒ«ãƒ‰ç¢ºèª
npm run build:local
```

### ä¸€èˆ¬çš„ãªä½œæ¥­ãƒ•ãƒ­ãƒ¼

#### 1. æ–°ã—ã„ã‚¨ãƒ³ãƒˆãƒªãƒ¼è¿½åŠ 

```bash
# 1. æ—¢å­˜HTMLã‹ã‚‰æŠ½å‡º
npm run extract-archive-entries   # archives/ ã‹ã‚‰
npm run extract-genre-entries     # genre/ ã‹ã‚‰
npm run extract-tetra-entries     # tetra/ ã‹ã‚‰

# 2. ãƒ“ãƒ«ãƒ‰
npm run build:local

# 3. ç¢ºèª
npm run serve
# â†’ http://localhost:8080/archives/2026/
```

#### 2. ç”»åƒæœ€é©åŒ–

```bash
# å…¨ç”»åƒæœ€é©åŒ–
npm run optimize-images

# WebPå¤‰æ›ã®ã¿
npm run optimize-images:webp

# å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿
node scripts/optimize-large-images.js
```

#### 3. ãƒªãƒ³ã‚¯ä¿®æ­£

```bash
# ç ´æãƒªãƒ³ã‚¯ãƒã‚§ãƒƒã‚¯
node scripts/check-broken-images.js

# åŒ…æ‹¬çš„ä¿®æ­£
node scripts/comprehensive-image-fix.js

# ã‚µãƒ ãƒã‚¤ãƒ«ãƒªãƒ³ã‚¯ä¿®æ­£
node scripts/fix-all-thumbs-comprehensive.js
```

#### 4. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ ãƒ»ä¿®æ­£

```bash
# 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
touch _includes/components/new-component.njk

# 2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ä½¿ç”¨
{% include "components/new-component.njk" %}

# 3. ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã§ç¢ºèª
# npm run serve ãŒè‡ªå‹•æ¤œçŸ¥ã—ã¦å†ãƒ“ãƒ«ãƒ‰
```

### Git ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```bash
# 1. ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
git checkout -b feature/new-feature

# 2. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "Add new feature"

# 3. ãƒ—ãƒƒã‚·ãƒ¥
git push origin feature/new-feature

# 4. Pull Requestä½œæˆ
# GitHub UI ã§ main ã¸ãƒãƒ¼ã‚¸

# 5. GitHub Actions ãŒè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
```

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

#### 1. ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼: "Cannot find module '_data/...'"

**åŸå› **: ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**:
```bash
# ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
npm run extract-archive-entries
npm run extract-genre-entries
npm run extract-tetra-entries

# å†ãƒ“ãƒ«ãƒ‰
npm run build:local
```

#### 2. ç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„ï¼ˆ404ï¼‰

**åŸå› A**: PATH_PREFIXä¸ä¸€è‡´

**è§£æ±ºç­–**:
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«: PATH_PREFIX=""
npm run serve

# GitHub Pages: PATH_PREFIX="/info"
npm run build:ghpages
```

**åŸå› B**: ç ´æãƒªãƒ³ã‚¯

**è§£æ±ºç­–**:
```bash
# ãƒªãƒ³ã‚¯ãƒã‚§ãƒƒã‚¯
node scripts/check-broken-images.js

# ä¿®æ­£
node scripts/comprehensive-image-fix.js
```

#### 3. ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒç”Ÿæˆã•ã‚Œãªã„

**åŸå› **: _data/*Pages.js ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼

**è§£æ±ºç­–**:
```bash
# ãƒ­ã‚°ç¢ºèª
npm run build:local 2>&1 | tee build.log

# ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«æ¤œè¨¼
node -e "console.log(require('./_data/genrePages.js'))"
```

#### 4. "Output conflict: multiple input files"

**åŸå› **: .eleventyignore ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**:
```bash
# .eleventyignore ã«è¿½åŠ 
echo "genre/" >> .eleventyignore
echo "archives/" >> .eleventyignore
echo "tetra/" >> .eleventyignore
```

#### 5. GitHub Pages ã§ CSS/JS ãŒèª­ã¿è¾¼ã¾ã‚Œãªã„

**åŸå› **: PATH_PREFIX ãŒé©ç”¨ã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**:
```bash
# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ | url ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ä½¿ç”¨
<link rel="stylesheet" href="{{ '/css/tetra_base.css' | url }}">

# ãƒã‚¹ãƒˆãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆç¢ºèª
npm run build:ghpages
```

#### 6. ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ç´ä»˜ã‘ãŸå ´åˆã¯ã€ä¸‹è¨˜ã‚’å¤‰æ›´ã™ã‚‹
```bash
name: Deploy to GitHub Pages

on:
  push:
    branches: [develop]
  workflow_dispatch:

permissions:
  contents: write

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Build with Eleventy for GitHub Pages
        run: npm run build:ghpages # â† ã“ã“ã‚’ npm run build:customã«ã™ã‚‹

      - name: Deploy to gh-pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./_site
          publish_branch: gh-pages
```

### ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

#### ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ç¢ºèª

```bash
# è©³ç´°ãƒ­ã‚°
DEBUG=Eleventy* npm run build:local

# ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿ãƒ­ã‚°
npm run build:local 2>&1 | grep "Writing"
```

#### ãƒ‡ãƒ¼ã‚¿ç¢ºèª

```bash
# JSONãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
cat _data/archiveEntries.json | jq '.[0]'

# JSãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè¡Œ
node -e "const data = require('./_data/genrePages.js'); console.log(data.length, 'pages');"
```

#### ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª

```bash
# ãƒ•ã‚¡ã‚¤ãƒ«æ•°
find _site/ -name "*.html" | wc -l

# ç‰¹å®šãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œç´¢
grep -r "menu_title.*ABOUT" _site/ | wc -l
```

---

## ğŸ“š å‚è€ƒè³‡æ–™

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Eleventy Documentation](https://www.11ty.dev/docs/)
- [Nunjucks Documentation](https://mozilla.github.io/nunjucks/)
- [Sharp Documentation](https://sharp.pixelplumbing.com/)
- [GitHub Pages Documentation](https://docs.github.com/en/pages)

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `CLAUDE.md` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæŒ‡ç¤ºæ›¸
- `README.md` - åŸºæœ¬çš„ãªä½¿ã„æ–¹
- `ARCHITECTURE.md` - æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### é–¢é€£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

- `scripts/extract-*.js` - ãƒ‡ãƒ¼ã‚¿æŠ½å‡º
- `scripts/optimize-*.js` - ç”»åƒæœ€é©åŒ–
- `scripts/fix-*.js` - ãƒªãƒ³ã‚¯ä¿®æ­£
- `scripts/postbuild-add-prefix.js` - PATH_PREFIXé©ç”¨

---

## ğŸ“ å¤‰æ›´å±¥æ­´

### 2026-01-30
- âœ… Phase 1-2å®Œäº†: ã‚µã‚¤ã‚ºå‰Šæ¸›ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–
- âœ… ç”»åƒãƒªãƒ³ã‚¯ä¿®æ­£: 3,906 â†’ 257ç ´æãƒªãƒ³ã‚¯ï¼ˆ93.4%ä¿®æ­£ï¼‰
- âœ… ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ : å…¨ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- âœ… main-navigation.njkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
- ğŸ“Š æœ€çµ‚ã‚µã‚¤ã‚º: 203MBï¼ˆ_site/ï¼‰

### ä»Šå¾Œã®æ”¹å–„æ¡ˆ

1. **ç”»åƒCDNåŒ–**: Cloudflare R2 / AWS S3ã§å¤–éƒ¨ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
2. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ç”»åƒ**: `<picture>` + srcset å®Ÿè£…
3. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—é™¤å¤–**: .gitignore + GitHub Actionsæ”¹å–„
4. **TypeScriptåŒ–**: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ãƒ†ã‚£å‘ä¸Š
5. **E2Eãƒ†ã‚¹ãƒˆ**: Playwright ã§ãƒªãƒ³ã‚¯æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯

---

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: art space tetra
**ãƒ©ã‚¤ã‚»ãƒ³ã‚¹**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æº–æ‹ 
